"use strict";class MomentDate{constructor(){Object.defineProperty(this,"lang",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lang=document.documentElement.lang||"en",document.querySelectorAll(".moment-time").forEach(e=>this.init(e))}init(t){const e=t.getAttribute("datetime");if(!e)return;const i=this.formatRelativeDate(e);i&&(t.innerHTML=i)}formatRelativeDate(t){const e=Date.now(),i=new Date(t).getTime();if(isNaN(i))return;const r=e-i,n=Math.floor(r/864e5);if(n>=3)return;const o=new Intl.RelativeTimeFormat(this.lang,{numeric:"auto"});if(n<1){const s=Math.floor(r/36e5);if(s>=1)return o.format(-s,"hour");const l=Math.floor(r/6e4);if(l>=1)return o.format(-l,"minute");const u=Math.floor(r/1e3);return o.format(-u,"second")}return o.format(-n,"day")}}class MomentLightbox{constructor(){Object.defineProperty(this,"lightbox",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nextLink",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"prevLink",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"closeLink",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.lightbox=document.querySelector(".moment-lightbox"),this.init()}init(){var t,e,i,r,n,o;this.lightbox&&(this.lightbox.showModal(),this.nextLink=(e=(t=this.lightbox.querySelector(".moment-controls__next"))===null||t===void 0?void 0:t.getAttribute("href"))!==null&&e!==void 0?e:"",this.prevLink=(r=(i=this.lightbox.querySelector(".moment-controls__prev"))===null||i===void 0?void 0:i.getAttribute("href"))!==null&&r!==void 0?r:"",this.closeLink=(o=(n=this.lightbox.querySelector(".moment-close"))===null||n===void 0?void 0:n.getAttribute("href"))!==null&&o!==void 0?o:"",this.addEventListeners())}addEventListeners(){this.lightbox&&this.lightbox.addEventListener("keydown",t=>{switch(t.code){case"ArrowLeft":this.prevLink&&this.goTo(this.prevLink);break;case"ArrowRight":this.nextLink&&this.goTo(this.nextLink);break;case"Escape":this.closeLink&&this.goTo(this.closeLink);break}})}goTo(t){window.location.href=t}}document.addEventListener("DOMContentLoaded",()=>{new MomentDate,new MomentLightbox});
